<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SPEC: Manual / Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
<script>
window.MathJax = {
  loader: {
    load: ['[tex]/color', '[tex]/cancel']
  },
  tex: {
      tags: "ams",
      packages: {'[+]': ['noerrors'],
                 '[+]': ['color'],
                 '[+]': ['verb'],
                 '[+]': ['cancel']
      }
      macros: { bm: ["{\\boldsymbol #1}",1]
      }
  }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.0.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="SPEC_97x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SPEC
   &#160;<span id="projectnumber">3.00</span>
   </div>
   <div id="projectbrief">Stepped Pressure Equilibrium Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('grp_documentation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Manual / Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="grp_polFluxRotTransform"></a>
Poloidal flux and rotational transform</h1>
<p>Given the canonical integrable form, \({\bf A} = \psi \nabla \theta - \chi(\psi) \nabla \zeta\), we can derive \({\bf B} = \nabla \psi \times \nabla \theta +\nabla \zeta \times \nabla \psi \;\chi^\prime\). The poloidal flux is given by </p><p class="formulaDsp">
\begin{eqnarray} \Psi_p = \int \!\! \int {\bf B} \cdot {\bf e}_\zeta \times{\bf e}_\psi \; d\zeta d\psi = 2 \pi \int \chi^\prime d\psi. \end{eqnarray}
</p>
<p> The rotational-transform is </p><p class="formulaDsp">
\begin{eqnarray} {{\,\iota\!\!\!}-} = \frac{ {\bf B} \cdot \nabla \theta}{ {\bf B} \cdot \nabla \zeta} = \chi^\prime. \end{eqnarray}
</p>
<p> The rotational-transform has the same sign as the poloidal flux.</p>
<p>The SPEC representation for the magnetic vector potential is </p><p class="formulaDsp">
\begin{eqnarray} {\bf A} = A_\theta \nabla \theta + A_\zeta \nabla \zeta, \end{eqnarray}
</p>
<p> where we can see that \(A_\zeta = - \chi\). The poloidal flux is </p><p class="formulaDsp">
\begin{eqnarray} \int {\bf B}\cdot d{\bf s} = \oint A_\zeta d\zeta. \end{eqnarray}
</p>
<p> It would seem that the rotational-transform has opposite sign to \(A_\zeta\). To be honest, I am a little confused regarding the sign.</p>
<h1><a class="anchor" id="grp_outline"></a>
Outline</h1>
<p>This document is intended to organise the different potentially valuable improvements to the SPEC code, which could make it more robust, faster, and increase its capabilities.</p>
<p>The document is divided in two categories:</p>
<p><a class="el" href="grp_documentation.html#sec_NumericalImprovements">Numerical Improvements</a> : independent improvements that are of numerical importance but have no added physics value <em>per se</em>, although they may allow new or better physics investigations.</p>
<p><a class="el" href="grp_documentation.html#sec_PhysicsApplications">Physics Applications</a> : research topics that could be addressed with the code, either in its present form or after the completion of one or more topics listed in <a class="el" href="grp_documentation.html#sec_NumericalImprovements">Numerical Improvements</a> .</p>
<h1><a class="anchor" id="sec_NumericalImprovements"></a>
Numerical Improvements</h1>
<h2><a class="anchor" id="sec_gcc"></a>
Compile code with GCC for error checking</h2>
<p>Has been implemented in Makefile for most platforms. Checks against Intel version show small differences on the order of \(10^{-15}\) relative deviation, which are likely due so slighly different optimization strategies.</p>
<h2><a class="anchor" id="sec_gprof"></a>
Profile code with gprof to find inefficient lines of code</h2>
<h2><a class="anchor" id="sec_valgrind"></a>
Run code with Valgrind to identify memory leaks</h2>
<h2><a class="anchor" id="sec_denag"></a>
De-NAG-ification</h2>
<p>Compilation of SPEC does not rely on NAG anymore; some functionality (e.g. SQP in <a class="el" href="ma02aa_8f90.html" title="Constructs Beltrami field in given volume consistent with flux, helicity, rotational-transform and/or...">ma02aa.f90</a>) might need replacements for the NAG routines to be re-enabled.</p>
<h2><a class="anchor" id="sec_spectralConstraints"></a>
Revision of spectral-constraints</h2>
<p>This is bit of a mess. All the mathematics is standard, and all that is required is for someone to calmly go through lots of algebra. This task should be high priority, as SRH suspects that the spectral constraints as presently enforced result in an ill-conditioned force vector, which means that the code is overly sensitive to the initial guess and does not converge robustly. Potential speed improvements are tremendous.</p>
<h2><a class="anchor" id="sec_torAngle"></a>
Extension to arbitrary toroidal angle</h2>
<p>This can further reduce the required Fourier resolution, and so this can reduce the computation. SRH is particularly interested in this as it will allow for exotic configurations (knots, figure-8, etc.) that cannot presently be computed.</p>
<h2><a class="anchor" id="sec_metricSymmetry"></a>
Exploit symmetry of the metric</h2>
<p>This is easy, but somewhat tedious. Take a look at <a class="el" href="group__grp__integrals.html#ga400af9e33dd5465ff9a4bba9fbf91108" title="Calculates volume integrals of Chebyshev polynomials and metric element products.">ma00aa()</a> to see what is required. Potential speed improvement is considerable.</p>
<h2><a class="anchor" id="sec_beltrami"></a>
symmetry of "local" Beltrami matrices</h2>
<p>This is easy. Take a look at <a class="el" href="group__grp__build__matrices.html#ga1c52bb6dbffdb432550aae12b096080f" title="Constructs energy and helicity matrices that represent the Beltrami linear system....">matrix()</a>, which constructs the Beltrami matrices, and <a class="el" href="group__grp__solver.html#ga6626839aff500f060beb5bce2b90c447" title="Solves Beltrami/vacuum (linear) system, given matrices.unpacking fluxes, helicity multiplier">mp00ac()</a>, which performs the inversion. Potential speed improvement is considerable.</p>
<h2><a class="anchor" id="sec_tridiagnonal"></a>
Exploit block tri-diagonal structure of "global" linearized force balance matrix</h2>
<p>This requires an efficient subroutine. SRH believes that Hirshman constructed such a routine (Hirshman et al. (2010) <a class="el" href="citelist.html#CITEREF_y2010_hirshman">[4]</a>). The potential speed improvement is tremendous. See <a class="el" href="group__grp__force__driver.html#gaec14f81fbdbedafbc4189489ec8ae178" title="Employs Newton method to find , where  and  is defined in dforce() .">newton()</a> for where the tri-diagonal, linearized force-balance matrix is inverted.</p>
<h2><a class="anchor" id="sec_heliciy_constraint"></a>
Enforce Helicity constraint</h2>
<p>This will allow investigation of different, arguably more-physical classes of equilibria. See <a class="el" href="group__grp__solver__driver.html#gacad623d4c5c006e9ad10116372f92ad3" title="Constructs Beltrami field in given volume consistent with flux, helicity, rotational-transform and/or...">ma02aa()</a> .</p>
<h2><a class="anchor" id="sec_tests"></a>
Establish test-cases</h2>
<p>A suite of test cases should be constructed, with different geometries etc., that run fast, and that can be benchmarked to machine precision. In the InputFiles/TestCases directory, some input files for SPEC are available for this purpose. One should write routines which execute these input files and compare the output data against a publicy-available set of output files to check SPEC before a new release is made.</p>
<h2><a class="anchor" id="sec_freeb"></a>
Verify free-boundary</h2>
<p>This is almost complete. The corresponding publication is being written. The virtual casing routines need to be investigated and made more efficient. The virtual casing routine in slab geometry needs revision (because of an integral over an infinite domain).</p>
<h2><a class="anchor" id="sec_toroidal_current"></a>
Enforcement of toroidal current profile</h2>
<p>Adjust \(\mu\)'s, fluxes and/or rotational transform to obtain desired current profile (without singular currents). This is implemented and needs to be merged into the master branch. An additional routine is required to iterate on the helicity multipliers etc. as required <em>after</em> the local Beltrami fields have been calculated and <em>before</em> the global force balance iterations proceed.</p>
<h2><a class="anchor" id="sec_hessian"></a>
Interpret eigenvectors and eigenvalues of Hessian</h2>
<p>This is already completed: see <a class="el" href="group__grp__diagnostics.html#ga7401b50ec10c6598ee4a8112717a63ec" title="Computes eigenvalues and eigenvectors of derivative matrix, .">hesian()</a>. However, this actually computes the force gradient matrix. For toroidal geometry there is a complication; namely that the hessian matrix includes the derivatives of the spectral constraints. For Cartesian geometry, it is ready to go. SRH will begin writing a paper on the stability of slab MRxMHD equilibria.</p>
<h1><a class="anchor" id="sec_PhysicsApplications"></a>
Physics Applications</h1>
<h2><a class="anchor" id="sec_hires"></a>
Calculate high-resolution equilibria, e.g. W7-X</h2>
<p>requires: <a class="el" href="grp_documentation.html#sec_metricSymmetry">Exploit symmetry of the metric</a> , <a class="el" href="grp_documentation.html#sec_beltrami">symmetry of "local" Beltrami matrices</a> , and other improvements that can make the code faster at high Fourier resolution</p>
<h2><a class="anchor" id="sec_calc_consvHelicity"></a>
Calculate equilibria by conserving helicity and fluxes</h2>
<p>Applications to saturated island studies, sawteeth, etc. requires: <a class="el" href="grp_documentation.html#sec_calc_consvHelicity">Calculate equilibria by conserving helicity and fluxes</a></p>
<h2><a class="anchor" id="sec_calc_freeb"></a>
Calculate free-boundary stellarator equilibria</h2>
<p>to predict scrape-off-layer (SOL) topologies and \(\beta\)-limits. requires: <a class="el" href="grp_documentation.html#sec_freeb">Verify free-boundary</a> Mostly complete.</p>
<h2><a class="anchor" id="sec_eval_stability"></a>
Evaluate stability of MRxMHD equilibria</h2>
<p>perhaps starting from simplest system (slab tearing). requires: <a class="el" href="grp_documentation.html#sec_hessian">Interpret eigenvectors and eigenvalues of Hessian</a></p>
<h1><a class="anchor" id="grp_coord_singularity"></a>
Revision of coordinate singularity: axisymmetric; polar coordinates</h1>
<ul>
<li>
Consider a general, magnetic vector potential given in Cartesian coordinates, <p class="formulaDsp">
\begin{eqnarray}{\bf A} = A_x \nabla x + A_y \nabla y + A_z \nabla z + \nabla g \label{eq:CartesianVectorPotential_manual} \end{eqnarray}
</p>
 where \(A_x\), \(A_y\), \(A_z\), and the as-yet-arbitrary gauge function, \(g\), are regular at \((x,y)=(0,0)\), i.e. they can be expanded as a Taylor series, e.g. <p class="formulaDsp">
\begin{eqnarray}A_x = \sum_{i,j} \alpha_{i,j} x^i y^j, \qquad A_y = \sum_{i,j} \beta_{i,j} x^i y^j, \qquad A_z = \sum_{i,j} \gamma_{i,j} x^i y^j, \qquad g = \sum_{i,j} \delta_{i,j} x^i y^j, \label{eq:Taylorexpansion_manual} \end{eqnarray}
</p>
 for small \(x\) and small \(y\).  </li>
<li>
Note that we have restricted attention to the "axisymmetric" case, as there is no dependence on \(z\).  </li>
<li>
The "polar" coordinate transformation, <p class="formulaDsp">
\begin{eqnarray}x &amp;=&amp; r \cos \theta, \nonumber \\ y &amp;=&amp; r \sin \theta, \\ z &amp;=&amp; \zeta, \nonumber \end{eqnarray}
</p>
 induces the vector transformation <p class="formulaDsp">
\begin{eqnarray}\begin{array}{ccccccccccccccccccccccccccccccc} \nabla x &amp; = &amp; \cos \theta \; \nabla r &amp; - &amp; r \sin \theta \; \nabla \theta &amp; &amp;, \\ \nabla y &amp; = &amp; \sin \theta \; \nabla r &amp; + &amp; r \cos \theta \; \nabla \theta &amp; &amp;, \\ \nabla z &amp; = &amp; &amp; &amp; &amp; \nabla \zeta&amp;. \end{array} \end{eqnarray}
</p>
  </li>
<li>
By repeated applications of the double-angle formula, the expressions for \(A_x\), \(A_y\) and \(g\) can be cast as functions of \((r,\theta)\), <p class="formulaDsp">
\begin{eqnarray}A_x &amp; = &amp; \sum_m r^m [ a_{m,0} + a_{m,1} \; r^2 + a_{m,2} \; r^4 + ... ] \sin(m\theta), \\ A_y &amp; = &amp; \sum_m r^m [ b_{m,0} + b_{m,1} \; r^2 + b_{m,2} \; r^4 + ... ] \cos(m\theta), \\ A_z &amp; = &amp; \sum_m r^m [ c_{m,0} + c_{m,1} \; r^2 + c_{m,2} \; r^4 + ... ] \cos(m\theta), \label{eq:regularAz_manual} \\ g &amp; = &amp; \sum_m r^m [ g_{m,0} + g_{m,1} \; r^2 + g_{m,2} \; r^4 + ... ] \sin(m\theta), \end{eqnarray}
</p>
 where attention is restricted to stellarator symmetric geometry, but similar expressions hold for the non-stellarator symmetric terms.  </li>
<li>
Collecting these expressions, the vector potential can be expressed <p class="formulaDsp">
\begin{eqnarray}{\bf A} = A_r \nabla r + A_\theta \nabla \theta + A_\zeta \nabla \zeta + \partial_r g \; \nabla r + \partial_\theta g \; \nabla \theta, \end{eqnarray}
</p>
 where <p class="formulaDsp">
\begin{eqnarray}\begin{array}{ccccccclcccccccccccccccccccccccccccccccccccccccccccccccccccc} A_r &amp; = &amp; r^0 &amp; [ &amp; ( &amp; &amp; &amp; b_{0,0} &amp; + &amp; g_{1,0} &amp; ) &amp; + &amp; (...) r^2 + (...)r^4 + ... &amp; ] &amp; \sin \theta \\ &amp; + &amp; r^1 &amp; [ &amp; ( &amp; a_{1,0}/2 &amp; + &amp; b_{1,0}/2 &amp; + &amp; 2 g_{2,0} &amp; ) &amp; + &amp; (...) r^2 + (...)r^4 + ... &amp; ] &amp; \sin 2 \theta \\ &amp; + &amp; r^2 &amp; [ &amp; ( &amp; a_{2,0}/2 &amp; + &amp; b_{2,0}/2 &amp; + &amp; 3 g_{3,0} &amp; ) &amp; + &amp; (...) r^2 + (...)r^4 + ... &amp; ] &amp; \sin 3 \theta \\ &amp; + &amp; ... \end{array} \end{eqnarray}
</p>
 (Note: Mathematica was used to perform the algebraic manipulations, and the relevant notebook was included as part of the SPEC <code>CVS</code> repository.)  </li>
<li>
There is precisely enough gauge freedom so that we may choose \(A_r=0\). For example, the choice <p class="formulaDsp">
\begin{eqnarray}\begin{array}{cccccclccccccccccccccccccccccccccccccccc} g_{1,0} &amp; = &amp; - &amp; &amp; &amp; &amp; b_{0,0} &amp; &amp; &amp; &amp;, \\ g_{2,0} &amp; = &amp; - &amp; ( &amp; a_{1,0}/2 &amp; + &amp; b_{1,0}/2 &amp; ) &amp; / &amp; 2&amp;, \\ g_{3,0} &amp; = &amp; - &amp; ( &amp; a_{2,0}/2 &amp; + &amp; b_{2,0}/2 &amp; ) &amp; / &amp; 3&amp;, \\ ... &amp; = &amp; &amp; ... \end{array} \end{eqnarray}
</p>
 eliminates the lowest order \(r\) dependence in each harmonic.  </li>
<li>
By working through the algebra (again, using Mathematica) the expressions for \(A_\theta\) and \(A_\zeta\) become <p class="formulaDsp">
\begin{eqnarray}A_\theta &amp;=&amp; r^2 f_0(\rho) + r^3 f_1(\rho) \cos(\theta) + r^4 f_2(\rho) \cos(2\theta) + r^5 f_3(\rho) \cos(3\theta) + ... \label{eq:nearoriginAt_manual} \\ A_\zeta &amp;=&amp; \;\;\;\,g_0(\rho) + r^1 g_1(\rho) \cos(\theta) + r^2 g_2(\rho) \cos(2\theta) + r^3 g_3(\rho) \cos(3\theta) + ... \label{eq:nearoriginAz_manual} \end{eqnarray}
</p>
 where \(\rho\equiv r^2\) and the \(f_m(\rho)\) and \(g_m(\rho)\) are abitrary polynomials in \(\rho\). [The expression for \(A_\zeta\) is unchanged from Eqn. \((\ref{eq:regularAz_manual})\).]  </li>
</ul>
<h2><a class="anchor" id="sec_generally"></a>
somewhat generally, ...</h2>
<ul>
<li>
For stellarator-symmetric configurations, <p class="formulaDsp">
\begin{eqnarray}{\bf A} = \sum_{m,n} A_{\theta,m,n} \cos(m\theta-n\zeta) \nabla \theta + \sum_{m,n} A_{\zeta,m,n} \cos(m\theta-n\zeta) \nabla \zeta, \end{eqnarray}
</p>
 where now the dependence on \(\zeta\) is included, and the angles are arbitrary.  </li>
<li>
The near-origin behaviour of \(A_\theta\) and \(A_\zeta\) given in Eqn. \((\ref{eq:nearoriginAt_manual})\) and Eqn. \((\ref{eq:nearoriginAz_manual})\) are flippantly generalized to <p class="formulaDsp">
\begin{eqnarray} A_{\theta,m,n} &amp; = &amp; r^{m+2} f_{m,n}(\rho), \label{eq:Atmn_manual} \\ A_{\zeta ,m,n} &amp; = &amp; r^{m } \;\;\;\; g_{m,n}(\rho), \label{eq:Azmn_manual} \end{eqnarray}
</p>
 where the \(f_{m,n}(\rho)\) and \(g_{m,n}(\rho)\) are arbitrary polynomials in \(\rho\).  </li>
<li>
Additional gauge freedom can be exploited: including an additional gauge term \(\nabla h\) where \(h\) only depends on \(\zeta\), e.g. <p class="formulaDsp">
\begin{eqnarray}h(\zeta) = h_{0,0} \, \zeta + \sum h_{0,n} \sin( - n\zeta),\end{eqnarray}
</p>
 does not change the magnetic field and does not change any of the above discussion.  </li>
<li>
The representation for the \(A_{\theta,m,n}\) does not change, but we must clarify that Eqn. \((\ref{eq:Azmn_manual})\) holds for only the \(m\ne0\) harmonics: <p class="formulaDsp">
\begin{eqnarray}A_{\zeta,m,n} &amp; = &amp; r^{m} \;\;\;\;g_{m,n}(\rho), \;\;\;\mathrm{for}\;\;\; m \ne 0. \end{eqnarray}
</p>
  </li>
<li>
For the \(m=0\), \(n\ne0\) harmonics of \(A_\zeta\), including the additional gauge gives \(A_{\zeta,0,n} = g_{0,n}(\rho) + n \, h_{0,n}\). Recall that \(g_{0,n}(\rho) = g_{0,n,0} + g_{0,n,1} \rho + g_{0,n,2} \rho^2 + ...\), and we can choose \(h_{0,n} = - g_{0,n,0} / n\) to obtain <p class="formulaDsp">
\begin{eqnarray}A_{\zeta,m,n} &amp; = &amp; r^{m } \;\;\;g_{m,n}(\rho), \;\;\;\mathrm{for}\;\; m=0, n\ne0, \;\;\mathrm{with}\;\; g_{m,n}(0)=0. \end{eqnarray}
</p>
  </li>
<li>
For the \(m=0\), \(n=0\) harmonic of \(A_\zeta\), we have \(A_{\zeta,0,0} = g_{0,0}(\rho) + h_{0,0}\). Similarly, choose \(h_{0,0} = - g_{0,n,0}\) to obtain <p class="formulaDsp">
\begin{eqnarray}A_{\zeta,m,m} &amp; = &amp; r^{m } \;\;\;g_{m,n}(\rho), \;\;\;\mathrm{for}\;\; m=0, n=0, \;\;\mathrm{with}\;\; g_{m,n}(0)=0. \end{eqnarray}
</p>
  </li>
<li>
To simplify the algorithmic implementation of these conditions, we shall introduce a "regularization" factor, \(\rho^{m/2} = r^m\).  </li>
<li>
Note that the representation for \(A_{\theta,m,n}\) given in Eqn. \((\ref{eq:Atmn_manual})\), with an arbitrary polynomial \(f_{m,n}(\rho) = f_{m,n,0} + f_{m,n,1}\rho + f_{m,n,2}\rho^2 + ...\), is equivalent to \(A_{\theta,m,n} = \rho^{m/2} \alpha_{m,n}(\rho)\) where \(\alpha_{m,n}(\rho)\) is an arbitrary polynomial with the constraint \(\alpha_{m,n}(0)=0\).  </li>
<li>
We can write the vector potential as <p class="formulaDsp">
\begin{eqnarray}A_{\theta,m,n} &amp; = &amp; \rho^{m/2} \alpha_{m,n}(\rho), \;\;\; \mathrm{with}\;\; \alpha_{m,n}(0)=0 \;\;\mathrm{for\;all}\;\; (m,n),\\ A_{\zeta ,m,n} &amp; = &amp; \rho^{m/2} \beta_{m,n}(\rho), \;\;\; \mathrm{with}\;\; \beta_{m,n}(0)=0 \;\;\mathrm{for}\;\; m=0. \end{eqnarray}
</p>
  </li>
</ul>
<h2><a class="anchor" id="sec_nonstellsym"></a>
non-stellarator symmetric terms</h2>
<ul>
<li>
Just guessing, for the non-stellarator-symmetric configurations, <p class="formulaDsp">
\begin{eqnarray}A_{\theta,m,n} &amp; = &amp; \rho^{m/2} \alpha_{m,n}(\rho), \;\;\; \mathrm{with}\;\; \alpha_{m,n}(0)=0 \;\;\mathrm{for\;all}\;\; (m,n),\\ A_{\zeta ,m,n} &amp; = &amp; \rho^{m/2} \beta_{m,n}(\rho), \;\;\; \mathrm{with}\;\; \beta_{m,n}(0)=0 \;\;\mathrm{for}\;\; m=0. \end{eqnarray}
</p>
  </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
